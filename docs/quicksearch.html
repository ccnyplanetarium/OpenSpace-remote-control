<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ip.js.html":{"id":"ip.js.html","title":"Source: ip.js","body":" Documentation Classes ipopenspacesocket_server Source: ip.js /** * Acquiring the ip addresses of the computer * @constructor ip * @property {array-number} addresses The ip address(es) of the computer * @property {array-string} interfaces The interfaces of ip addresses (ex: Wifi) */ class ip { constructor() { this.os = require('os'); // https://stackoverflow.com/questions/10750303/how-can-i-get-the-local-ip-address-in-node-js var interfaces = this.os.networkInterfaces(); this.addresses = []; this.interfaces = []; for (var k in interfaces) { for (var k2 in interfaces[k]) { var address = interfaces[k][k2]; if (address.family === 'IPv4' &amp;&amp; !address.internal) { this.addresses.push(address.address); this.interfaces.push(k); } } } } } module.exports = new ip(); × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"openspace.js.html":{"id":"openspace.js.html","title":"Source: openspace.js","body":" Documentation Classes ipopenspacesocket_server Source: openspace.js /** * OpenSpace WebSocket related communication method * @constructor openspace * @param {object} setting The configuration object * @property {object} config The configuration object stored from the parameter * @property {library} robot The robotjs library * @property {library} ws The WebSocket use to connect OpenSpace backend */ class openspace { constructor(setting) { var port = setting['port'] this.config = setting['config'] this.robot = require(\"robotjs\"); this.init() const net = require('net'); const WebSocket = require('ws'); this.ws = new WebSocket('ws://' + 'localhost' + ':' + port); this.ws.on('open', (connection) =&gt; { console.log('Connected to local OpenSpace server'); }); } /** * Function to initial mouse control related (robotjs) variable * @property {array-number} mouse The user's mouse x and y position * @property {array-number} altY How many y pixels should mouse increase/decrease while holding right key (zoom in/zoom out) * @property {array-number} latY How many y pixels should mouse increase/decrease while holding left key (rotate up/rotate down) * @property {array-number} latX How many x pixels should mouse increase/decrease while holding left key (rotate left/rotate right) */ init() { this.mouse = this.robot.getMousePos(); this.altY = 0; this.latY = 0; this.latX = 0; } /** * Function to clear mouse control * @param {string} type 'alt' / 'lat' / 'all' */ clear(type) { var x = this.mouse.x, y = this.mouse.y; if(type=='alt' || type=='all') { this.robot.mouseToggle(\"up\",\"right\"); this.altY = 0; if(this.latY&gt;0) y = this.latY + y; if(this.latX&gt;0) x = this.latX + x; this.robot.moveMouse(x, y); } if(type=='lat' || type=='all') { this.robot.mouseToggle(\"up\",\"left\"); this.latX = 0; this.latY = 0; if(this.altY&gt;0) y = this.altY + y; this.robot.moveMouse(x, y); } } /** * Function to move altitude (zoom in or zoom out) * @param {string} type -1 (zoom out) / 1 (zoom in) * @param {string} value How many pixels should be moved */ moveAltitude(type,value) { value = value*20 if(value&gt;200) value = 200; if(value&lt;-200) value = -200; var x = this.mouse.x, y = this.mouse.y; this.config.OpenSpaceLog['Altitude'] &amp;&amp; console.log(value) this.altY = value; y = y+value + this.latY; x = x + this.latX; this.robot.mouseToggle(\"down\",\"right\"); var mouse = this.robot.getMousePos(); if(mouse.y !=y) this.robot.dragMouse(x, y); } /** * Function to move latitude and longitude (rotation) * @param {array-number} msg A array includes {angle,distance} * @property {object} msg.angle What is angle triggered on joystick. * @property {library} msg.distance What is distance triggered on joystick. */ moveGeo(msg) { var speed,type,multi,type2,multi2; if(msg.angle&gt;=0 &amp;&amp; msg.angle&lt;=90) { this.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('message: latitude- N:' + msg.angle/90 + '- E:' + (90-msg.angle)/90); speed = msg.distance; type = 'N'; multi = msg.angle/90; type2 = 'E'; multi2 = (90-msg.angle)/90; } else if (msg.angle&gt;=270) { this.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('message: latitude- E:' + (msg.angle - 270)/90 + '- S:' + (360 - msg.angle)/90); speed = msg.distance; type = 'E'; multi = (msg.angle - 270)/90; type2 = 'S'; multi2 = (360 - msg.angle)/90; } else if (msg.angle&gt;=180 &amp;&amp; msg.angle&lt;=270) { this.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('message: latitude- S:' + (msg.angle - 180)/90 + '- W:' + (270 - msg.angle)/90); speed = msg.distance; type = 'S'; multi = (msg.angle - 180)/90; type2 = 'W'; multi2 = (270 - msg.angle)/90; } else if (msg.angle&gt;=90 &amp;&amp; msg.angle&lt;=180) { this.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('message: latitude- W:' + (msg.angle - 90)/90 + '- N:' + (180 - msg.angle)/90); speed = msg.distance; type = 'W'; multi = (msg.angle - 90)/90; type2 = 'N'; multi2 = (180 - msg.angle)/90; } this.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('message: latitude- ' + msg.distance); var x = this.mouse.x, y = this.mouse.y, base = 20; multi = multi * 10; multi2 = multi2 * 10; if(type=='N') { y = y + base*multi } else if(type=='S') { y = y - base*multi } else if(type=='E') { x = x - base*multi } else if(type=='W') { x = x + base*multi } if(type2=='N') { y = y + base*multi2 } else if(type2=='S') { y = y - base*multi2 } else if(type2=='E') { x = x - base*multi2 } else if(type2=='W') { x = x + base*multi2 } this.latY = y - this.mouse.y this.latX = x - this.mouse.x y = y+this.altY; this.robot.mouseToggle(\"down\",\"left\"); var mouse = this.robot.getMousePos(); if(mouse.x !=x || mouse.y !=y) this.robot.dragMouse(x, y); } /** * Function to screenshot OpenSpace, then send the screenshot to client's device * @param {object} setting The configuration object */ screenshot(setting) { var path = setting['OpenSpacePath'] var socket = setting['socketObj'] this.trigger('RenderEngine.TakeScreenshot') const fs = require('fs'); var screenshotPath = path, dir, imgName, imgTime = 500; let latestStats = false, latestIndex; // Finding the latest folder fs.readdir(screenshotPath,function(err, list){ list.forEach(function(file,index){ var stats = new Date(fs.statSync(screenshotPath+\"/\"+file).mtime); this.config.OpenSpaceLog['Screenshot'] &amp;&amp; console.log(index); if(!latestStats) { latestStats = stats; latestIndex = index; } else if(latestStats &lt; stats) { latestStats = stats; latestIndex = index; } }) }) // Generating the image setTimeout( function() { fs.readdir(screenshotPath,function(err, list){ // console.log(latestIndex) // dir = list[list.length-1] dir = list[latestIndex] this.config.OpenSpaceLog['Screenshot'] &amp;&amp; console.log(screenshotPath+\"/\"+dir); fs.readdir(screenshotPath+\"/\"+dir,function(err, list){ imgName = list[list.length-1] this.config.OpenSpaceLog['Screenshot'] &amp;&amp; console.log(list[list.length-1]); // https://stackoverflow.com/questions/26331787/socket-io-node-js-simple-example-to-send-image-files-from-server-to-client fs.readFile(screenshotPath+\"/\"+dir+\"/\"+imgName , function(err, buf){ // it's possible to embed binary data // within arbitrarily-complex objects socket.emit('image', { image: true, buffer: buf.toString('base64') }); }); }) }) },imgTime) } /** * Function to change OpenSpace current focus planet * @param {string} planet The number of planet */ changePlanet(planet) { this.set('NavigationHandler.OrbitalNavigator.Anchor',planet) this.trigger('NavigationHandler.OrbitalNavigator.RetargetAnchor') } /** * Function to trigger the api script * @param {object} event The api event */ trigger(event) { this.ws.send(JSON.stringify( { topic: 0, type: 'trigger', payload: { property: event } } )); } /** * Function to set the api value * @param {object} event The api event */ set(event,result) { this.ws.send(JSON.stringify( { topic: 0, type: 'set', payload: { property: event, value: result } } )); } /** * Function to run lua script * @param {object} script The lua script */ lua(script) { this.ws.send(JSON.stringify( { topic: 0, type: 'luascript', payload: { script } } )); } } module.exports = function(setting) { return new openspace(setting); } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"socket_server.js.html":{"id":"socket_server.js.html","title":"Source: socket_server.js","body":" Documentation Classes ipopenspacesocket_server Source: socket_server.js /** * OpenSpace WebSocket related communication method * @constructor socket_server * @param {library} io socket.io library * @param {object} setting The configuration object * @param {library} openspace lib/openspace library * @property {library} io socket.io library * @property {object} config The configuration object stored from the parameter * @property {array} userList The list of connected clients * @property {array} cameraAccess The list of clients who can access camera * @property {array} planetAccess The list of clients who can access planet change * @property {array} adminID The socket id of admin */ class socket_server { constructor(io,config,openspace) { this.io = io; this.config = config; this.userList = ['undefined']; this.cameraAccess = [config.superUser]; this.planetAccess = [config.superUser]; var socketServer = this; var time = new Date(); var altitudeEvent; var frame = 100 io.on('connection', function(socket){ var address = socket.id; socket.emit('reconnect user') socketServer.config.SocketLog['connection'] &amp;&amp; console.log('New connection from ' + address); /** * Function to create user * @param {string} msg The user name */ socket.on('create user', function(msg){ if(socketServer.userList.includes(msg)) { socket.emit('alert', \"Sorry, this username is already registered!!\"); } else { socketServer.userList.push(msg) socket.username = msg; if(msg==config.superUser) { socketServer.adminID = socket.id socketServer.config.SocketLog['account'] &amp;&amp; console.log('new admin is created!! - ' + msg); } else { socketServer.config.SocketLog['account'] &amp;&amp; console.log('new user is created!! - ' + msg); } // https://stackoverflow.com/questions/37690419/not-allowed-to-load-local-resources socket.emit('redirect', \"/user.html\"); } // socketServer.initAdmin('refresh',socket) socketServer.initAdmin('add',socket) }); /** * Function to change a user's ability to access OpenSpace control * @param {array} msg * @param {array} msg.type The event type (add gamepad/remove gamepad) * @param {array} msg.id The user socket id */ socket.on('access user', function(msg){ if (!socketServer.checkAccess(socket,' change access')) return var username = io.sockets.sockets[msg.id].username socketServer.config.SocketLog['account'] &amp;&amp; console.log('access user '+username+', msg: ') socketServer.config.SocketLog['account'] &amp;&amp; console.log(msg) if(msg.type=='add gamepad') { socketServer.cameraAccess.push(username) // console.log(socketServer.cameraAccess) socketServer.initUser(socket,io,msg.id,'#mainContent','&lt;a href=\"control.html\" class=\"ui green label\"&gt;You can access the control&lt;/a&gt;') } else if(msg.type=='remove gamepad') { socketServer.cameraAccess = socketServer.cameraAccess.filter(v =&gt; v !== username); socketServer.initUser(socket,io,msg.id,'#mainContent','&lt;a class=\"ui red label\"&gt;You CANNOT access the control&lt;/a&gt;') io.to(msg.id).emit('redirect', '/user.html'); } // if(msg.type=='add plane') { // socketServer.planetAccess.push(username) // console.log(socketServer.planetAccess) // socketServer.initUser(socket,io,msg.id,'#secContent','&lt;a class=\"ui green label\"&gt;You can access planet navigation&lt;/a&gt;') // } else if(msg.type=='remove plane') { // console.log('removing...') // socketServer.planetAccess = socketServer.planetAccess.filter(v =&gt; v !== username); // socketServer.initUser(socket,io,msg.id,'#secContent','&lt;a class=\"ui red label\"&gt;You CANNOT access planet navigation&lt;/a&gt;') // } // socketServer.initAdmin('remove',io.sockets.sockets[msg.id]) // socketServer.initAdmin('add',io.sockets.sockets[msg.id]) }); /** * Function to logout a user * @param {string} msg The user name */ socket.on('logout user', function(msg){ // https://stackoverflow.com/questions/9792927/javascript-array-search-and-remove-string if(socketServer.userList.includes(msg)) { socketServer.userList = socketServer.userList.filter(v =&gt; v !== msg); if(socket.username==config.superUser) { socketServer.adminID = false; } socket.username = ''; } }); /** * Function to check if a user can access OpenSpace control frontend * @param {string} msg The user name */ socket.on('check user', function(msg){ if(!socketServer.cameraAccess.includes(msg)) socket.emit('redirect', \"/user.html\"); }); /** * Function to reconnect a user * @param {string} msg The user name */ socket.on('reconnect user', function(msg){ if(!socketServer.userList.includes(msg)) { socketServer.userList.push(msg) socket.username = msg; socketServer.config.SocketLog['reconnect'] &amp;&amp; console.log(socket.username + \" is reconnected!\") } if(socket.username==config.superUser) { socketServer.adminID = socket.id } if(socketServer.cameraAccess.includes(msg) &amp;&amp; socket.username!=config.superUser) { socket.emit('content setup', {target:'#mainContent',content:'&lt;a href=\"control.html\" class=\"ui green label\"&gt;You can access the control&lt;/a&gt;'}) } else if (!socketServer.cameraAccess.includes(msg) &amp;&amp; socket.username!=config.superUser) { socket.emit('content setup', {target:'#mainContent',content:'&lt;a class=\"ui red label\"&gt;You CANNOT access the control&lt;/a&gt;'}) } // if(socketServer.planetAccess.includes(msg) &amp;&amp; socket.username!=config.superUser) { // socket.emit('admin setup', {target:'#secContent',content:'&lt;a class=\"ui green label\"&gt;You can access planet naviation&lt;/a&gt;'}) // } else if (!socketServer.planetAccess.includes(msg) &amp;&amp; socket.username!=config.superUser) { // socket.emit('admin setup', {target:'#secContent',content:'&lt;a class=\"ui red label\"&gt;You CANNOT access planet naviation&lt;/a&gt;'}) // } if(socket.username==config.superUser) socketServer.initAdmin('init') socketServer.initAdmin('add',socket) }); /** * Function to redirect a user * @param {string} msg The user name */ socket.on('redirect', function(msg){ socket.emit('redirect', msg); }); /** * Function to handle OpenSpace alitude start event * @param {string} msg 'up' or 'down' */ socket.on('altitude start', function(msg){ if (!socketServer.checkAccess(socket,'altitude')) return var pressTime = new Date(); socketServer.config.OpenSpaceLog['Altitude'] &amp;&amp; console.log('message: altitude start - ' + msg); socketServer.config.OpenSpaceLog['Altitude'] &amp;&amp; console.log('message: moving altitude... - ' + msg); var type = (msg=='up') ? true:false var value = (msg=='up') ? -1: 1; openspace.moveAltitude(type,value) altitudeEvent = setInterval(function(){ var passingTime = new Date(); var type = (msg=='up') ? true:false var value = (msg=='up') ? -1: 1; value = value+value*(passingTime-pressTime)/500; openspace.moveAltitude(type,value) socketServer.config.OpenSpaceLog['Altitude'] &amp;&amp; console.log('message: moving altitude... - ' + msg + ' since last time' + (passingTime-pressTime)); }, frame); }); /** * Function to handle OpenSpace alitude end event * @param {string} msg 'up' or 'down' */ socket.on('altitude end', function(msg){ socketServer.config.OpenSpaceLog['Altitude'] &amp;&amp; console.log('message: altitude end - ' + msg); clearInterval(altitudeEvent); openspace.clear('alt'); }); /** * Function to handle OpenSpace latitude start event */ socket.on('latitude start', function(msg){ socketServer.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('latitude start') }); /** * Function to handle OpenSpace latitude end event */ socket.on('latitude end', function(msg){ socketServer.config.OpenSpaceLog['Geography'] &amp;&amp; console.log('latitude end') openspace.clear('lat'); }); /** * Function to handle OpenSpace latitude move event @function * @param {array-number} msg A array includes {angle,distance} * @property {object} msg.angle What is angle triggered on joystick. * @property {library} msg.distance What is distance triggered on joystick. */ socket.on('latitude move', function(msg){ if (!socketServer.checkAccess(socket,'latitude')) return let curTime = new Date(); if((curTime-time)&gt;frame/2) { time = curTime openspace.moveGeo(msg) } }); /** * Function to handle OpenSpace OpenSpace change planet event * @param {string} msg The number of planet */ socket.on('change planet', function(msg){ if (!socketServer.checkAccess(socket,'change planet')) return socketServer.config.OpenSpaceLog['MovePlanet'] &amp;&amp; console.log('Move to: ' + msg); openspace.changePlanet(msg) for (var socketId in io.sockets.sockets) { var username = io.sockets.sockets[socketId].username; if(username != config.superUser) { io.to(socketId).emit('wiki', msg ); } } }); /** * Function to handle OpenSpace screenshot event */ socket.on('get img', function(){ // var address = this.id socketServer.config.SocketLog['account'] &amp;&amp; console.log(address+' request snapshot'); var setting = { OpenSpacePath: config.OpenSpaceScreenshotPath, socketObj: socket } openspace.screenshot(setting) }); /** * Function to receive log from frontend */ socket.on('console log', function(msg){ socketServer.config.SocketLog['log'] &amp;&amp; console.log(msg); }); // console.log(Object.keys(io.sockets.sockets)) socket.on('disconnect', function () { socketServer.initAdmin('remove',socket) // var address = this.id if (socket.username) { socketServer.userList = socketServer.userList.filter(v =&gt; v !== socket.username); socketServer.config.SocketLog['disconnect'] &amp;&amp; console.log( socket.username + \" disconnected\"); } else { socketServer.config.SocketLog['disconnect'] &amp;&amp; console.log('socket disconnected before username set'); } }); }); } /** * Function to initialize admin frontend content * @param {string} type 'add' / 'remove' / 'init' / 'refresh' * @param {object} socket The socket object */ initAdmin(type,socket) { var config = this.config; // var idList = []; // for (var socketId in io.sockets.sockets) { // var username = io.sockets.sockets[socketId].username; // if(username == config.superUser) { // // var admin = socketId; // // } else { // idList.push(socketId) // } // } if(type=='add') { var content = ''; if(!this.adminID || socket.id==this.adminID || socket.username == undefined) return // this.userList = this.userList.filter(v =&gt; v !== config.superUser); // for(let i =0; i&lt;idList.length;i++) { var event = (this.cameraAccess.includes(socket.username)) ? \"active\" : '' // var event1 = (this.planetAccess.includes(this.userList[i])) ? \"active\" : '' content+= `&lt;div id=\"-----`+socket.id+`\" class=\"ui card\"&gt; &lt;div class=\"content\"&gt;`+ // &lt;i id=\"+-+_+`+idList[i]+`\" onclick=\"access(this)\" class=\"right floated paper plane outline icon `+event1+`\"&gt;&lt;/i&gt;+ // &lt;i id=\"+_+_+`+socket.id+`\" onclick=\"access(this)\" class=\"right floated gamepad icon `+event+`\"&gt;&lt;/i&gt;+ `&lt;div class=\"header\"&gt;`+socket.username+`&lt;/div&gt; &lt;div class=\"description\"&gt; `+socket.id+` &lt;/div&gt; &lt;/div&gt; &lt;div class=\"extra content\"&gt; &lt;span class=\"left floated gamepad\"&gt; &lt;i id=\"_+_+_`+socket.id+`\" onclick=\"access(this)\" class=\"gamepad icon `+event+`\"&gt;&lt;/i&gt; Joystick &lt;/span&gt;`+ // &lt;span class=\"right floated paper plane outline\"&gt; // &lt;i id=\"_+-+_`+idList[i]+`\" onclick=\"access(this)\" class=\"paper plane outline icon `+event1+`\"&gt;&lt;/i&gt; // Navigation // &lt;/span&gt; `&lt;/div&gt; &lt;/div&gt; ` // } this.io.to(this.adminID).emit('content setup',{target:'#cardDeck',content: content,id:'#-----'+socket.id} ); } else if (type=='remove') { this.io.to(this.adminID).emit('content remove',{target:'#-----'+socket.id}); } else if (type=='init') { this.io.to(this.adminID).emit('content replace',{target:'#cardDeck',content:''}); for (var socketId in this.io.sockets.sockets) { var username = this.io.sockets.sockets[socketId].username; if(username != config.superUser) { this.initAdmin('add',this.io.sockets.sockets[socketId]) } } } else if (type=='refresh') { this.io.to(this.adminID).emit('content refresh',{target:'.content .header',target2:'.content .description',username:socket.username,id:socket.id}); } } /** * Function to initialize user frontend content * @param {object} socket The socket object * @param {library} io socket.io library * @param {int} id The user id * @param {string} target The frontend DOM id * @param {string} content The frontend content */ initUser(socket,io,id,target,content) { var config = this.config if(socket.username!=config.superUser) return; this.io.to(id).emit('content replace', {target:target,content:content} ); } /** * Function to check if a user can access certain control * @param {object} socket The socket object * @param {string} type The type of control */ checkAccess(socket,type) { if(!this.cameraAccess.includes(socket.username)) { socket.emit('alert', \"Sorry, you are not admin!!\"); this.config.SocketLog['access'] &amp;&amp; console.log(socket.username+ \" is try to \"+type) return false; } else {return true} } } module.exports = function(io,config,openspace) { return new socket_server(io,config,openspace); } × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ipopenspacesocket_server Classes Classes ip openspace socket_server × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ipopenspacesocket_server OpenSpace-remote-controlDescriptionThis project is based on OpensPace Socket api to acheive remote control of OpenSpace in multi-platform. StructureBackend - deals with communication with software and mobile devices index.js - Intialize the server and libraries config.js - Configuration lib/ip - Find the local remote ip address of host computer lib/openspace.js - Method to remote control the software, such as achieve the zooming and rotating, view perspective. lib/socket_server.js - Inner Communication between different devices Frontend - user interface and send user inputs to server client.js - Handling user activities, such as login in/out, sending message to server config.js - Configuration joystick.js - Joystick main.js - Control panel, such as planet slider speech.js - Detecting user voice then calibrated to desired term wikiFor more information, please view the wiki page × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"ip.html":{"id":"ip.html","title":"Class: ip","body":" Documentation Classes ipopenspacesocket_server Class: ip ip new ip() Acquiring the ip addresses of the computer Properties: Name Type Description addresses array-number The ip address(es) of the computer interfaces array-string The interfaces of ip addresses (ex: Wifi) Source: ip.js, line 1 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"openspace.html":{"id":"openspace.html","title":"Class: openspace","body":" Documentation Classes ipopenspacesocket_server Class: openspace openspace new openspace(setting) OpenSpace WebSocket related communication method Parameters: Name Type Description setting object The configuration object Properties: Name Type Description config object The configuration object stored from the parameter robot library The robotjs library ws library The WebSocket use to connect OpenSpace backend Source: openspace.js, line 1 Methods init() Function to initial mouse control related (robotjs) variable Properties: Name Type Description mouse array-number The user's mouse x and y position altY array-number How many y pixels should mouse increase/decrease while holding right key (zoom in/zoom out) latY array-number How many y pixels should mouse increase/decrease while holding left key (rotate up/rotate down) latX array-number How many x pixels should mouse increase/decrease while holding left key (rotate left/rotate right) Source: openspace.js, line 41 clear(type) Function to clear mouse control Parameters: Name Type Description type string 'alt' / 'lat' / 'all' Source: openspace.js, line 54 moveAltitude(type, value) Function to move altitude (zoom in or zoom out) Parameters: Name Type Description type string 1 (zoom out) / 1 (zoom in) value string How many pixels should be moved Source: openspace.js, line 87 moveGeo(msg) Function to move latitude and longitude (rotation) Parameters: Name Type Description msg array-number A array includes {angle,distance} Properties: Name Type Description msg.angle object What is angle triggered on joystick. msg.distance library What is distance triggered on joystick. Source: openspace.js, line 121 screenshot(setting) Function to screenshot OpenSpace, then send the screenshot to client's device Parameters: Name Type Description setting object The configuration object Source: openspace.js, line 208 changePlanet(planet) Function to change OpenSpace current focus planet Parameters: Name Type Description planet string The number of planet Source: openspace.js, line 278 trigger(event) Function to trigger the api script Parameters: Name Type Description event object The api event Source: openspace.js, line 290 set(event) Function to set the api value Parameters: Name Type Description event object The api event Source: openspace.js, line 308 lua(script) Function to run lua script Parameters: Name Type Description script object The lua script Source: openspace.js, line 326 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "},"socket_server.html":{"id":"socket_server.html","title":"Class: socket_server","body":" Documentation Classes ipopenspacesocket_server Class: socket_server socket_server new socket_server(io, setting, openspace) OpenSpace WebSocket related communication method Parameters: Name Type Description io library socket.io library setting object The configuration object openspace library lib/openspace library Properties: Name Type Description io library socket.io library config object The configuration object stored from the parameter userList array The list of connected clients cameraAccess array The list of clients who can access camera planetAccess array The list of clients who can access planet change adminID array The socket id of admin Source: socket_server.js, line 1 Methods initAdmin(type, socket) Function to initialize admin frontend content Parameters: Name Type Description type string 'add' / 'remove' / 'init' / 'refresh' socket object The socket object Source: socket_server.js, line 350 initUser(socket, io, id, target, content) Function to initialize user frontend content Parameters: Name Type Description socket object The socket object io library socket.io library id int The user id target string The frontend DOM id content string The frontend content Source: socket_server.js, line 434 checkAccess(socket, type) Function to check if a user can access certain control Parameters: Name Type Description socket object The socket object type string The type of control Source: socket_server.js, line 452 × Search results Close Documentation generated by JSDoc 3.5.5 on 2019-04-06T18:35:50-04:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
